{"ast":null,"code":"import{useForm}from\"react-hook-form\";import React,{useContext}from'react';import{IonList,IonItem,IonLabel,IonText,IonInput,IonButton,IonRadioGroup,IonListHeader,IonRadio,IonAvatar}from'@ionic/react';import Trip from\"../classes/Trip\";import firebase from\"firebase\";import Suitcase from\"../classes/Suitcase\";import{TripsContext}from\"../TripsState\";// type SuitcaseProps {\n//   nameOfTrip: string;\n// }\nvar AddSuitcaseForm=function AddSuitcaseForm(_ref){var nameOfTrip=_ref.nameOfTrip;var tripName=nameOfTrip;var _useForm=useForm(),control=_useForm.control,register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.errors,formState=_useForm.formState;var _useContext=useContext(TripsContext),trips=_useContext.trips;var onSubmit=function onSubmit(data){var suitcase=new Suitcase(data.suitcaseName,data.suitcaseColour);var currentTrip=new Trip(\"Loading...\",new Date(1975,1,1),new Date(1975,1,1));trips.forEach(function(t){if(t.tripName===tripName){currentTrip=t;}});// console.log(currentTrip);\n// if (currentTrip.suitcases[0].suitcaseName === \"\") {\n//   console.log(\"got to here\")\n//   currentTrip.suitcases[0] = su\n// }\n// currentTrip.suitcases.push(suitcase);\n// console.log(currentTrip);\nvar dbRef=firebase.database().ref('/trips/'+currentTrip.id+'/suitcases');var suitcaseID=dbRef.push({suitcaseName:suitcase.suitcaseName,colour:suitcase.colour}).key;if(suitcaseID!=null){dbRef.child(suitcaseID).update({'id':suitcaseID});// suitcase.setID(suitcaseID);\n// currentTrip.suitcases.push(suitcase);\n}dbRef.child(\"/0\").remove();// tripsRef.child(currentTrip.id).update({'suitcases': \"will put suitcases here\"});\n};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit(onSubmit)},/*#__PURE__*/React.createElement(IonList,{lines:\"full\",class:\"ion-no-margin ion-no-padding\"},/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonLabel,{position:\"floating\"},\"Suitcase Name\",/*#__PURE__*/React.createElement(IonText,{color:\"danger\"},\"*\")),/*#__PURE__*/React.createElement(IonInput,{name:\"suitcaseName\",required:true,type:\"text\",ref:register({required:true})})),/*#__PURE__*/React.createElement(IonRadioGroup,{value:\"blue\",name:\"suitcaseColour\",ref:register({required:true})},/*#__PURE__*/React.createElement(IonListHeader,null,/*#__PURE__*/React.createElement(IonLabel,null,\"Suitcase Colour\")),/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonAvatar,{slot:\"start\"},/*#__PURE__*/React.createElement(\"img\",{src:\"../assets/suitcases/blue.png\"})),/*#__PURE__*/React.createElement(IonRadio,{slot:\"start\",value:\"blue\"})),/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonAvatar,{slot:\"start\"},/*#__PURE__*/React.createElement(\"img\",{src:\"../assets/suitcases/green.png\"})),/*#__PURE__*/React.createElement(IonRadio,{slot:\"start\",value:\"green\"})),/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonAvatar,{slot:\"start\"},/*#__PURE__*/React.createElement(\"img\",{src:\"../assets/suitcases/red.png\"})),/*#__PURE__*/React.createElement(IonRadio,{slot:\"start\",value:\"red\"})),/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonAvatar,{slot:\"start\"},/*#__PURE__*/React.createElement(\"img\",{src:\"../assets/suitcases/yellow.png\"})),/*#__PURE__*/React.createElement(IonRadio,{slot:\"start\",value:\"yellow\"})))),/*#__PURE__*/React.createElement(IonButton,{expand:\"block\",type:\"submit\",class:\"ion-no-margin\"},\"Add Suitcase\")));};export default AddSuitcaseForm;","map":{"version":3,"sources":["/Users/ahadyboy/Desktop/Tha Boy/UNI/2020 - UNI/SWEN325/Assignment 1/Packit/src/components/AddSuitcaseForm.tsx"],"names":["useForm","React","useContext","IonList","IonItem","IonLabel","IonText","IonInput","IonButton","IonRadioGroup","IonListHeader","IonRadio","IonAvatar","Trip","firebase","Suitcase","TripsContext","AddSuitcaseForm","nameOfTrip","tripName","control","register","handleSubmit","errors","formState","trips","onSubmit","data","suitcase","suitcaseName","suitcaseColour","currentTrip","Date","forEach","t","dbRef","database","ref","id","suitcaseID","push","colour","key","child","update","remove","required"],"mappings":"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","sourcesContent":["import { useForm, Controller } from \"react-hook-form\";\nimport React, {useContext, useState} from 'react';\nimport {\n  IonList,\n  IonItem,\n  IonLabel,\n  IonText,\n  IonInput,\n  IonDatetime,\n  IonButton,\n  IonSelectOption,\n  IonSelect,\n  IonRadioGroup,\n  IonListHeader,\n  IonRadio, IonAvatar\n} from '@ionic/react';\nimport Trip from \"../classes/Trip\";\nimport firebase from \"firebase\";\nimport Suitcase from \"../classes/Suitcase\";\nimport {TripsContext} from \"../TripsState\";\nimport {RouteComponentProps} from \"react-router\";\n\n// type SuitcaseProps {\n//   nameOfTrip: string;\n// }\n\nconst AddSuitcaseForm: React.FC<{nameOfTrip:string}> = ({nameOfTrip}) => {\n  let tripName = nameOfTrip;\n\n\n  const { control, register, handleSubmit, errors, formState } = useForm();\n  const { trips } = useContext(TripsContext);\n\n  const onSubmit = (data: any) => {\n    let suitcase: Suitcase = new Suitcase(data.suitcaseName, data.suitcaseColour);\n    let currentTrip: Trip = new Trip(\"Loading...\", new Date(1975, 1, 1), new Date(1975, 1, 1));\n\n\n    trips.forEach((t: Trip) => {\n      if (t.tripName === tripName) {\n        currentTrip = t;\n      }\n    });\n\n    // console.log(currentTrip);\n    // if (currentTrip.suitcases[0].suitcaseName === \"\") {\n    //   console.log(\"got to here\")\n    //   currentTrip.suitcases[0] = su\n    // }\n    // currentTrip.suitcases.push(suitcase);\n    // console.log(currentTrip);\n\n    let dbRef = firebase.database().ref('/trips/' + currentTrip.id + '/suitcases');\n    let suitcaseID = dbRef.push({\n      suitcaseName: suitcase.suitcaseName,\n      colour: suitcase.colour,\n    }).key;\n    if (suitcaseID != null) {\n      dbRef.child(suitcaseID).update({'id': suitcaseID});\n      // suitcase.setID(suitcaseID);\n      // currentTrip.suitcases.push(suitcase);\n    }\n    dbRef.child(\"/0\").remove();\n    // tripsRef.child(currentTrip.id).update({'suitcases': \"will put suitcases here\"});\n\n\n\n  };\n\n  return (\n      <div>\n        <form onSubmit={handleSubmit(onSubmit)}>\n          <IonList lines=\"full\" class=\"ion-no-margin ion-no-padding\">\n\n            <IonItem>\n              <IonLabel position=\"floating\">\n                Suitcase Name\n                <IonText color=\"danger\">*</IonText>\n              </IonLabel>\n              <IonInput name=\"suitcaseName\" required type=\"text\" ref={register({ required: true })}>\n              </IonInput>\n            </IonItem>\n\n            <IonRadioGroup value=\"blue\" name=\"suitcaseColour\" ref={register({ required: true })}>\n              <IonListHeader>\n                <IonLabel>Suitcase Colour</IonLabel>\n              </IonListHeader>\n\n              <IonItem>\n                <IonAvatar slot=\"start\">\n                  <img src=\"../assets/suitcases/blue.png\"/>\n                </IonAvatar>\n                <IonRadio slot=\"start\" value=\"blue\" />\n              </IonItem>\n\n              <IonItem>\n                <IonAvatar slot=\"start\">\n                  <img src=\"../assets/suitcases/green.png\"/>\n                </IonAvatar>\n                <IonRadio slot=\"start\" value=\"green\" />\n              </IonItem>\n\n              <IonItem>\n                <IonAvatar slot=\"start\">\n                  <img src=\"../assets/suitcases/red.png\"/>\n                </IonAvatar>\n                <IonRadio slot=\"start\" value=\"red\" />\n              </IonItem>\n\n              <IonItem>\n                <IonAvatar slot=\"start\">\n                  <img src=\"../assets/suitcases/yellow.png\"/>\n                </IonAvatar>\n                <IonRadio slot=\"start\" value=\"yellow\" />\n              </IonItem>\n            </IonRadioGroup>\n\n          </IonList>\n\n          <IonButton expand=\"block\" type=\"submit\" class=\"ion-no-margin\">\n            Add Suitcase\n          </IonButton>\n        </form>\n      </div>\n  );\n};\n\nexport default AddSuitcaseForm;\n"]},"metadata":{},"sourceType":"module"}