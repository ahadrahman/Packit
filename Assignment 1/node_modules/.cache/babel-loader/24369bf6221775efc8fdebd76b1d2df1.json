{"ast":null,"code":"var _jsxFileName = \"/Users/ahadyboy/Desktop/Tha Boy/UNI/2020 - UNI/SWEN325/Assignment 1/Packit/src/states/TripsState.tsx\";\nimport React, { createContext, useState, useEffect } from 'react';\nimport firebase from \"firebase\";\nlet TripsContext = createContext({});\n\nfunction TripsContextProvider(props) {\n  const [trips, setTrips] = useState([]);\n  let tripsRef = firebase.database().ref('/trips');\n  useEffect(() => {\n    tripsRef.on('value', snapshot => {\n      let data = snapshot.val();\n\n      if (data != null) {\n        setTrips(Object.values(data));\n      }\n    });\n  }, []); // Nifty trick with useEffect from: https://css-tricks.com/run-useeffect-only-once/\n\n  return /*#__PURE__*/React.createElement(TripsContext.Provider, {\n    value: {\n      trips: trips\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 5\n    }\n  }, props.children);\n}\n\nlet TripsContextConsumer = TripsContext.Consumer;\nexport { TripsContext, TripsContextProvider, TripsContextConsumer };","map":{"version":3,"sources":["/Users/ahadyboy/Desktop/Tha Boy/UNI/2020 - UNI/SWEN325/Assignment 1/Packit/src/states/TripsState.tsx"],"names":["React","createContext","useState","useEffect","firebase","TripsContext","TripsContextProvider","props","trips","setTrips","tripsRef","database","ref","on","snapshot","data","val","Object","values","children","TripsContextConsumer","Consumer"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,QAA/B,EAAyCC,SAAzC,QAA0D,OAA1D;AAEA,OAAOC,QAAP,MAAqB,UAArB;AAMA,IAAIC,YAAY,GAAGJ,aAAa,CAAC,EAAD,CAAhC;;AAEA,SAASK,oBAAT,CAA8BC,KAA9B,EAAqE;AAEnE,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAC,EAAD,CAAlC;AAEA,MAAIQ,QAAQ,GAAGN,QAAQ,CAACO,QAAT,GAAoBC,GAApB,CAAwB,QAAxB,CAAf;AAEAT,EAAAA,SAAS,CAAC,MAAM;AACdO,IAAAA,QAAQ,CAACG,EAAT,CAAY,OAAZ,EAAqBC,QAAQ,IAAI;AAC/B,UAAIC,IAAI,GAAGD,QAAQ,CAACE,GAAT,EAAX;;AACA,UAAID,IAAI,IAAI,IAAZ,EAAkB;AAChBN,QAAAA,QAAQ,CAACQ,MAAM,CAACC,MAAP,CAAcH,IAAd,CAAD,CAAR;AACD;AACF,KALD;AAMD,GAPQ,EAON,EAPM,CAAT,CANmE,CAa3D;;AAER,sBACE,oBAAC,YAAD,CAAc,QAAd;AAAuB,IAAA,KAAK,EAAE;AAACP,MAAAA,KAAK,EAAGA;AAAT,KAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAgDD,KAAK,CAACY,QAAtD,CADF;AAGD;;AAED,IAAIC,oBAAoB,GAAGf,YAAY,CAACgB,QAAxC;AAEA,SAAShB,YAAT,EAAuBC,oBAAvB,EAA6Cc,oBAA7C","sourcesContent":["import React, { createContext, useState, useEffect } from 'react';\nimport Trip from \"../classes/Trip\";\nimport firebase from \"firebase\";\n\nexport interface Trips {\n  trips : Trip[];\n}\n\nlet TripsContext = createContext({} as Trips);\n\nfunction TripsContextProvider(props: { children: React.ReactNode; }) {\n\n  const [trips, setTrips] = useState([] as Trip[]);\n\n  let tripsRef = firebase.database().ref('/trips');\n\n  useEffect(() => {\n    tripsRef.on('value', snapshot => {\n      let data = snapshot.val();\n      if (data != null) {\n        setTrips(Object.values(data));\n      }\n    });\n  }, []); // Nifty trick with useEffect from: https://css-tricks.com/run-useeffect-only-once/\n\n  return (\n    <TripsContext.Provider value={{trips : trips}}>{props.children}</TripsContext.Provider>\n  )\n}\n\nlet TripsContextConsumer = TripsContext.Consumer;\n\nexport { TripsContext, TripsContextProvider, TripsContextConsumer };"]},"metadata":{},"sourceType":"module"}