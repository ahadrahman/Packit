{"ast":null,"code":"var _jsxFileName = \"/Users/ahadyboy/Desktop/Tha Boy/UNI/2020 - UNI/SWEN325/Assignment 1/Packit/src/pages/SuitcaseDetails.tsx\";\nimport React, { useContext } from \"react\";\nimport { IonBackButton, IonButtons, IonCard, IonCardContent, IonCardHeader, IonCardTitle, IonContent, IonFab, IonFabButton, IonFabList, IonHeader, IonIcon, IonImg, IonPage, IonTitle, IonToolbar, IonRow, IonGrid, IonCol, IonItemDivider, IonLabel } from \"@ionic/react\";\nimport { TripsContext } from \"../TripsState\";\nimport { SuitcasesContextProvider } from \"../SuitcasesState\";\nimport Trip from \"../classes/Trip\";\nimport Suitcase from \"../classes/Suitcase\";\nimport './SuitcaseDetails.css';\nimport { add, camera, image } from \"ionicons/icons\";\nimport { usePhotoGallery } from \"../usePhotoGallery\";\n\nconst SuitcaseDetails = ({\n  match\n}) => {\n  let tripName = match.params.id;\n  let suitcaseName = match.params.suitcaseID;\n  const {\n    trips\n  } = useContext(TripsContext);\n  let currentTrip = new Trip(\"Loading...\", new Date(1975, 7, 26), new Date(1975, 8, 26));\n  trips.forEach(t => {\n    if (t.tripName === tripName) {\n      currentTrip = t;\n    }\n  }); // const suitcases = SuitcasesContextProvider({null; currentTrip.id}); //Somehow pass a tripID here to get the suitcases\n  //\n  // console.log(currentTrip);\n  //\n\n  let suitcases = currentTrip.suitcases;\n  let currentSuitcase = new Suitcase(\"Loading...\", \"green\");\n\n  for (let x of Object.entries(suitcases)) {\n    if (x[1].suitcaseName === suitcaseName) {\n      currentSuitcase = new Suitcase(x[1].suitcaseName, x[1].colour);\n    }\n  } // let itemhref = \"trips/\" + currentTrip.tripName + \"/\" + currentSuitcase.suitcaseName + \"/additem\";\n  // if (image instanceof Camera) {\n  //   console.log(image.base64String);\n  // }\n  // let captureDataUrl = 'data:image/jpeg;base64,' + image.base64String;\n\n\n  const {\n    photos,\n    takePhoto\n  } = usePhotoGallery(currentTrip.tripName, currentSuitcase.suitcaseName);\n  return /*#__PURE__*/React.createElement(SuitcasesContextProvider, {\n    tripID: currentTrip.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(IonPage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(IonHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonToolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonButtons, {\n    slot: \"start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonBackButton, {\n    defaultHref: `/trips/${currentTrip.tripName}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(IonTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, \"Inside \", suitcaseName, \" Suitcase\"))), /*#__PURE__*/React.createElement(IonContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonCard, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonImg, {\n    src: `../assets/suitcases/${currentSuitcase.colour}.png`,\n    className: \"suitcaseDetails\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(IonCardHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(IonCardTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }, currentSuitcase.suitcaseName)), /*#__PURE__*/React.createElement(IonCardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 15\n    }\n  }, \"This suitcase is part of your \", currentTrip.tripName, \" trip.\")), /*#__PURE__*/React.createElement(IonItemDivider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }, \"Items\")), /*#__PURE__*/React.createElement(IonGrid, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, photos.map((photo, index) => {\n    var _photo$base;\n\n    return /*#__PURE__*/React.createElement(IonCol, {\n      size: \"6\",\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(IonImg, {\n      onClick: () => setPhotoToDelete(photo),\n      src: (_photo$base = photo.base64) !== null && _photo$base !== void 0 ? _photo$base : photo.webviewPath,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 19\n      }\n    }));\n  }))), /*#__PURE__*/React.createElement(IonFab, {\n    vertical: \"bottom\",\n    horizontal: \"end\",\n    slot: \"fixed\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonFabButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonIcon, {\n    icon: add,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(IonFabList, {\n    side: \"top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonFabButton, {\n    onClick: t => takePhoto(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(IonIcon, {\n    icon: camera,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(IonFabButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(IonIcon, {\n    icon: image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 17\n    }\n  })))))));\n};\n\nexport default SuitcaseDetails;","map":{"version":3,"sources":["/Users/ahadyboy/Desktop/Tha Boy/UNI/2020 - UNI/SWEN325/Assignment 1/Packit/src/pages/SuitcaseDetails.tsx"],"names":["React","useContext","IonBackButton","IonButtons","IonCard","IonCardContent","IonCardHeader","IonCardTitle","IonContent","IonFab","IonFabButton","IonFabList","IonHeader","IonIcon","IonImg","IonPage","IonTitle","IonToolbar","IonRow","IonGrid","IonCol","IonItemDivider","IonLabel","TripsContext","SuitcasesContextProvider","Trip","Suitcase","add","camera","image","usePhotoGallery","SuitcaseDetails","match","tripName","params","id","suitcaseName","suitcaseID","trips","currentTrip","Date","forEach","t","suitcases","currentSuitcase","x","Object","entries","colour","photos","takePhoto","map","photo","index","setPhotoToDelete","base64","webviewPath"],"mappings":"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","sourcesContent":["import React, {useContext} from \"react\";\nimport {\n  IonBackButton,\n  IonButtons,\n  IonCard,\n  IonCardContent,\n  IonCardHeader,\n  IonCardTitle,\n  IonContent,\n  IonFab,\n  IonFabButton,\n  IonFabList,\n  IonHeader,\n  IonIcon,\n  IonImg,\n  IonPage,\n  IonTitle,\n  IonToolbar,\n  IonRow,\n  IonGrid,\n  IonCol, IonItemDivider, IonLabel\n} from \"@ionic/react\";\nimport {RouteComponentProps} from \"react-router\";\nimport {TripsContext} from \"../TripsState\";\nimport {SuitcasesContextProvider} from \"../SuitcasesState\";\nimport Trip from \"../classes/Trip\";\nimport Suitcase from \"../classes/Suitcase\";\nimport './SuitcaseDetails.css';\nimport {add, camera, image} from \"ionicons/icons\";\nimport {CameraResultType, CameraSource, CameraPhoto, Plugins, Camera} from \"@capacitor/core\";\nimport { useCamera } from '@ionic/react-hooks/camera';\nimport firebase from \"firebase\";\nimport {usePhotoGallery} from \"../usePhotoGallery\";\n\ninterface SuitcaseDetailsProps extends RouteComponentProps<{\n  id: string;\n  suitcaseID: string;\n}> {}\n\n\nconst SuitcaseDetails: React.FC<SuitcaseDetailsProps> = ({match}) => {\n  let tripName: string = match.params.id;\n  let suitcaseName: string = match.params.suitcaseID;\n\n  const { trips } = useContext(TripsContext);\n  let currentTrip: Trip = new Trip(\"Loading...\", new Date(1975, 7, 26), new Date(1975, 8, 26));\n  trips.forEach((t: Trip) => {\n    if (t.tripName === tripName) {\n      currentTrip = t;\n    }\n  });\n\n  // const suitcases = SuitcasesContextProvider({null; currentTrip.id}); //Somehow pass a tripID here to get the suitcases\n\n  //\n  // console.log(currentTrip);\n  //\n\n\n\n  let suitcases = currentTrip.suitcases;\n  let currentSuitcase: Suitcase = new Suitcase(\"Loading...\", \"green\");\n\n  for (let x of Object.entries(suitcases)) {\n    if (x[1].suitcaseName === suitcaseName) {\n      currentSuitcase = new Suitcase(x[1].suitcaseName, x[1].colour);\n    }\n  }\n  // let itemhref = \"trips/\" + currentTrip.tripName + \"/\" + currentSuitcase.suitcaseName + \"/additem\";\n\n\n    // if (image instanceof Camera) {\n    //   console.log(image.base64String);\n    // }\n    // let captureDataUrl = 'data:image/jpeg;base64,' + image.base64String;\n\n  const { photos, takePhoto } = usePhotoGallery(currentTrip.tripName, currentSuitcase.suitcaseName);\n\n  return (\n    <SuitcasesContextProvider tripID={currentTrip.id}>\n      <IonPage>\n        <IonHeader>\n          <IonToolbar>\n            <IonButtons slot=\"start\">\n              <IonBackButton defaultHref={`/trips/${currentTrip.tripName}`}/>\n            </IonButtons>\n            <IonTitle>\n              Inside {suitcaseName} Suitcase\n            </IonTitle>\n          </IonToolbar>\n        </IonHeader>\n        <IonContent>\n          <IonCard>\n            {/*  <IonAvatar slot=\"start\">*/}\n                <IonImg src={`../assets/suitcases/${currentSuitcase.colour}.png`} className=\"suitcaseDetails\"/>\n              {/*</IonAvatar>*/}\n              <IonCardHeader>\n                <IonCardTitle>\n                  {currentSuitcase.suitcaseName}\n                </IonCardTitle>\n              </IonCardHeader>\n              <IonCardContent>\n                This suitcase is part of your {currentTrip.tripName} trip.\n              </IonCardContent>\n          </IonCard>\n\n          <IonItemDivider>\n            <IonLabel>Items</IonLabel>\n          </IonItemDivider>\n\n          <IonGrid>\n            <IonRow>\n              {photos.map((photo, index) => (\n                <IonCol size=\"6\" key={index}>\n                  <IonImg onClick={() => setPhotoToDelete(photo)} src={photo.base64 ?? photo.webviewPath} />\n                </IonCol>\n              ))}\n            </IonRow>\n          </IonGrid>\n\n          <IonFab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\n            <IonFabButton>\n              <IonIcon icon={add} />\n            </IonFabButton>\n            <IonFabList side=\"top\">\n              <IonFabButton onClick={t => takePhoto()}>\n                <IonIcon icon={camera} />\n              </IonFabButton>\n              <IonFabButton>\n                <IonIcon icon={image} />\n              </IonFabButton>\n            </IonFabList>\n          </IonFab>\n\n        </IonContent>\n      </IonPage>\n    </SuitcasesContextProvider>\n  );\n};\n\nexport default SuitcaseDetails;"]},"metadata":{},"sourceType":"module"}