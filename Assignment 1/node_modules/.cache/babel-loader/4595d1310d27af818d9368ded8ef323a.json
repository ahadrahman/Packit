{"ast":null,"code":"import{IonBackButton,IonButtons,IonCard,IonCardContent,IonCardHeader,IonCardTitle,IonContent,IonHeader,IonLabel,IonPage,IonTitle,IonToolbar,IonItem,IonItemDivider,IonList,IonFab,IonFabButton,IonIcon,IonAvatar}from\"@ionic/react\";import React,{useContext}from\"react\";import Trip from\"../classes/Trip\";import{TripsContext}from\"../TripsState\";import{add}from\"ionicons/icons\";import{SuitcasesContextConsumer,SuitcasesContextProvider}from\"../SuitcasesState\";var TripDetails=function TripDetails(_ref){var match=_ref.match;var _useContext=useContext(TripsContext),trips=_useContext.trips;var currentTripName=match.params.id;var currentTrip=new Trip(\"Loading...\",new Date(1975,7,26),new Date(1975,8,26));trips.forEach(function(t){if(t.tripName===currentTripName){currentTrip=t;}});var content=formatDate(currentTrip);var suitcasehref=\"trips/\"+currentTripName+\"/addsuitcase\";return/*#__PURE__*/React.createElement(SuitcasesContextProvider,{tripID:currentTrip.id},/*#__PURE__*/React.createElement(IonPage,null,/*#__PURE__*/React.createElement(IonHeader,null,/*#__PURE__*/React.createElement(IonToolbar,null,/*#__PURE__*/React.createElement(IonButtons,{slot:\"start\"},/*#__PURE__*/React.createElement(IonBackButton,{defaultHref:\"/trips\"})),/*#__PURE__*/React.createElement(IonTitle,null,currentTrip.tripName,\" Details\"))),/*#__PURE__*/React.createElement(IonContent,null,/*#__PURE__*/React.createElement(IonCard,null,/*#__PURE__*/React.createElement(IonCardHeader,null,/*#__PURE__*/React.createElement(IonCardTitle,null,currentTrip.tripName)),/*#__PURE__*/React.createElement(IonCardContent,null,content)),/*#__PURE__*/React.createElement(IonItemDivider,null,/*#__PURE__*/React.createElement(IonLabel,null,\"Suitcases\")),/*#__PURE__*/React.createElement(SuitcasesContextConsumer,null,function(context){return/*#__PURE__*/React.createElement(IonList,null,context.suitcases.length?context.suitcases.map(function(s){return/*#__PURE__*/React.createElement(IonItem,{href:\"trips/\"+currentTrip.tripName+\"/\"+s.suitcaseName},/*#__PURE__*/React.createElement(IonAvatar,{slot:\"start\"},/*#__PURE__*/React.createElement(\"img\",{src:\"../assets/suitcases/\".concat(s.colour,\".png\")})),/*#__PURE__*/React.createElement(IonLabel,null,/*#__PURE__*/React.createElement(\"h2\",null,s.suitcaseName)));}):/*#__PURE__*/React.createElement(IonCard,null,/*#__PURE__*/React.createElement(IonCardHeader,null,/*#__PURE__*/React.createElement(IonCardTitle,null,\"No Suitcases found. Why don't you add one?\"))));}),/*#__PURE__*/React.createElement(IonFab,{vertical:\"bottom\",horizontal:\"end\",slot:\"fixed\"},/*#__PURE__*/React.createElement(IonFabButton,{href:suitcasehref},/*#__PURE__*/React.createElement(IonIcon,{icon:add}))))));};function formatDate(t){if(t.tripName===\"Loading...\"){return\"Loading...\";}else{return t.startDate+\" to \"+t.endDate;}}export default TripDetails;","map":{"version":3,"sources":["/Users/ahadyboy/Desktop/Tha Boy/UNI/2020 - UNI/SWEN325/Assignment 1/Packit/src/pages/TripDetails.tsx"],"names":["IonBackButton","IonButtons","IonCard","IonCardContent","IonCardHeader","IonCardTitle","IonContent","IonHeader","IonLabel","IonPage","IonTitle","IonToolbar","IonItem","IonItemDivider","IonList","IonFab","IonFabButton","IonIcon","IonAvatar","React","useContext","Trip","TripsContext","add","SuitcasesContextConsumer","SuitcasesContextProvider","TripDetails","match","trips","currentTripName","params","id","currentTrip","Date","forEach","t","tripName","content","formatDate","suitcasehref","context","suitcases","length","map","s","suitcaseName","colour","startDate","endDate"],"mappings":"AAAA,OACEA,aADF,CAEEC,UAFF,CAGEC,OAHF,CAGWC,cAHX,CAIEC,aAJF,CAIkCC,YAJlC,CAKEC,UALF,CAMEC,SANF,CAMaC,QANb,CAOEC,OAPF,CAQEC,QARF,CASEC,UATF,CAUEC,OAVF,CAUWC,cAVX,CAUyCC,OAVzC,CAUkDC,MAVlD,CAU0DC,YAV1D,CAUwEC,OAVxE,CAUiFC,SAVjF,KAWO,cAXP,CAYA,MAAOC,CAAAA,KAAP,EAAeC,UAAf,KAAqD,OAArD,CAEA,MAAOC,CAAAA,IAAP,KAAiB,iBAAjB,CACA,OAAeC,YAAf,KAAwD,eAAxD,CAEA,OAAQC,GAAR,KAAkB,gBAAlB,CACA,OAAqCC,wBAArC,CAA+DC,wBAA/D,KAA8F,mBAA9F,CASA,GAAMC,CAAAA,WAAuC,CAAG,QAA1CA,CAAAA,WAA0C,MAAa,IAAXC,CAAAA,KAAW,MAAXA,KAAW,iBAEzCP,UAAU,CAACE,YAAD,CAF+B,CAEnDM,KAFmD,aAEnDA,KAFmD,CAI3D,GAAIC,CAAAA,eAAuB,CAAGF,KAAK,CAACG,MAAN,CAAaC,EAA3C,CACA,GAAIC,CAAAA,WAAiB,CAAG,GAAIX,CAAAA,IAAJ,CAAS,YAAT,CAAuB,GAAIY,CAAAA,IAAJ,CAAS,IAAT,CAAe,CAAf,CAAkB,EAAlB,CAAvB,CAA8C,GAAIA,CAAAA,IAAJ,CAAS,IAAT,CAAe,CAAf,CAAkB,EAAlB,CAA9C,CAAxB,CAEAL,KAAK,CAACM,OAAN,CAAc,SAACC,CAAD,CAAa,CACzB,GAAIA,CAAC,CAACC,QAAF,GAAeP,eAAnB,CAAoC,CAClCG,WAAW,CAAGG,CAAd,CACD,CACF,CAJD,EAMA,GAAIE,CAAAA,OAAe,CAAGC,UAAU,CAACN,WAAD,CAAhC,CACA,GAAIO,CAAAA,YAAY,CAAG,SAAWV,eAAX,CAA6B,cAAhD,CAEA,mBACE,oBAAC,wBAAD,EAA0B,MAAM,CAAEG,WAAW,CAACD,EAA9C,eACE,oBAAC,OAAD,mBACE,oBAAC,SAAD,mBACE,oBAAC,UAAD,mBACE,oBAAC,UAAD,EAAY,IAAI,CAAC,OAAjB,eACE,oBAAC,aAAD,EAAe,WAAW,CAAC,QAA3B,EADF,CADF,cAIE,oBAAC,QAAD,MACGC,WAAW,CAACI,QADf,YAJF,CADF,CADF,cAWE,oBAAC,UAAD,mBACE,oBAAC,OAAD,mBACE,oBAAC,aAAD,mBACE,oBAAC,YAAD,MAAeJ,WAAW,CAACI,QAA3B,CADF,CADF,cAIE,oBAAC,cAAD,MACGC,OADH,CAJF,CADF,cAUE,oBAAC,cAAD,mBACE,oBAAC,QAAD,kBADF,CAVF,cAcE,oBAAC,wBAAD,MACI,SAACG,OAAD,qBACA,oBAAC,OAAD,MACKA,OAAO,CAACC,SAAR,CAAkBC,MAAnB,CACEF,OAAO,CAACC,SAAR,CAAkBE,GAAlB,CAAsB,SAACC,CAAD,qBACtB,oBAAC,OAAD,EAAS,IAAI,CAAE,SAAWZ,WAAW,CAACI,QAAvB,CAAkC,GAAlC,CAAwCQ,CAAC,CAACC,YAAzD,eACE,oBAAC,SAAD,EAAW,IAAI,CAAC,OAAhB,eACE,2BAAK,GAAG,+BAAyBD,CAAC,CAACE,MAA3B,QAAR,EADF,CADF,cAIE,oBAAC,QAAD,mBACE,8BAAKF,CAAC,CAACC,YAAP,CADF,CAJF,CADsB,EAAtB,CADF,cAWE,oBAAC,OAAD,mBACE,oBAAC,aAAD,mBACE,oBAAC,YAAD,mDADF,CADF,CAZN,CADA,EADJ,CAdF,cAuCE,oBAAC,MAAD,EAAQ,QAAQ,CAAC,QAAjB,CAA0B,UAAU,CAAC,KAArC,CAA2C,IAAI,CAAC,OAAhD,eACE,oBAAC,YAAD,EAAc,IAAI,CAAEN,YAApB,eACE,oBAAC,OAAD,EAAS,IAAI,CAAEhB,GAAf,EADF,CADF,CAvCF,CAXF,CADF,CADF,CA8DD,CA9ED,CAgFA,QAASe,CAAAA,UAAT,CAAoBH,CAApB,CAAqC,CACnC,GAAIA,CAAC,CAACC,QAAF,GAAe,YAAnB,CAAiC,CAC/B,MAAO,YAAP,CACD,CAFD,IAEO,CACL,MAAOD,CAAAA,CAAC,CAACY,SAAF,CAAc,MAAd,CAAuBZ,CAAC,CAACa,OAAhC,CACD,CACF,CAED,cAAetB,CAAAA,WAAf","sourcesContent":["import {\n  IonBackButton,\n  IonButtons,\n  IonCard, IonCardContent,\n  IonCardHeader, IonCardSubtitle, IonCardTitle,\n  IonContent,\n  IonHeader, IonLabel,\n  IonPage,\n  IonTitle,\n  IonToolbar,\n  IonItem, IonItemDivider, IonItemGroup, IonList, IonFab, IonFabButton, IonIcon, IonAvatar\n} from \"@ionic/react\";\nimport React, {useContext, useEffect, useState} from \"react\";\nimport {RouteComponentProps} from \"react-router\";\nimport Trip from \"../classes/Trip\";\nimport {Trips, TripsContext, TripsContextConsumer} from \"../TripsState\";\nimport firebase from \"firebase\";\nimport {add} from \"ionicons/icons\";\nimport {Suitcases, SuitcasesContext, SuitcasesContextConsumer, SuitcasesContextProvider} from \"../SuitcasesState\";\nimport Suitcase from \"../classes/Suitcase\";\n// import green from \"../../public/assets/suitcases/green.png\";\n\ninterface TripDetailsProps extends RouteComponentProps<{\n  id: string;\n}> {}\n\n\nconst TripDetails: React.FC<TripDetailsProps> = ({match}) => {\n\n  const { trips } = useContext(TripsContext);\n\n  let currentTripName: string = match.params.id;\n  let currentTrip: Trip = new Trip(\"Loading...\", new Date(1975, 7, 26), new Date(1975, 8, 26));\n\n  trips.forEach((t: Trip) => {\n    if (t.tripName === currentTripName) {\n      currentTrip = t;\n    }\n  });\n\n  let content: string = formatDate(currentTrip);\n  let suitcasehref = \"trips/\" + currentTripName + \"/addsuitcase\";\n\n  return (\n    <SuitcasesContextProvider tripID={currentTrip.id}>\n      <IonPage>\n        <IonHeader>\n          <IonToolbar>\n            <IonButtons slot=\"start\">\n              <IonBackButton defaultHref=\"/trips\"/>\n            </IonButtons>\n            <IonTitle>\n              {currentTrip.tripName} Details\n            </IonTitle>\n          </IonToolbar>\n        </IonHeader>\n        <IonContent>\n          <IonCard>\n            <IonCardHeader>\n              <IonCardTitle>{currentTrip.tripName}</IonCardTitle>\n            </IonCardHeader>\n            <IonCardContent>\n              {content}\n            </IonCardContent>\n          </IonCard>\n\n          <IonItemDivider>\n            <IonLabel>Suitcases</IonLabel>\n          </IonItemDivider>\n\n          <SuitcasesContextConsumer>\n            { (context : Suitcases) =>\n              <IonList>\n                { (context.suitcases.length)\n                  ? context.suitcases.map((s: Suitcase) =>\n                    <IonItem href={\"trips/\" + currentTrip.tripName + \"/\" + s.suitcaseName}>\n                      <IonAvatar slot=\"start\">\n                        <img src={`../assets/suitcases/${s.colour}.png`}/>\n                      </IonAvatar>\n                      <IonLabel>\n                        <h2>{s.suitcaseName}</h2>\n                      </IonLabel>\n                    </IonItem>\n                  ) : (\n                    <IonCard>\n                      <IonCardHeader>\n                        <IonCardTitle>No Suitcases found. Why don't you add one?</IonCardTitle>\n                      </IonCardHeader>\n                    </IonCard>\n                  )\n                }\n              </IonList>\n            }\n          </SuitcasesContextConsumer>\n\n          <IonFab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\n            <IonFabButton href={suitcasehref}>\n              <IonIcon icon={add} />\n            </IonFabButton>\n          </IonFab>\n\n        </IonContent>\n      </IonPage>\n    </SuitcasesContextProvider>\n  );\n};\n\nfunction formatDate(t: Trip): string {\n  if (t.tripName === \"Loading...\") {\n    return \"Loading...\"\n  } else {\n    return t.startDate + \" to \" + t.endDate;\n  }\n}\n\nexport default TripDetails;\n"]},"metadata":{},"sourceType":"module"}