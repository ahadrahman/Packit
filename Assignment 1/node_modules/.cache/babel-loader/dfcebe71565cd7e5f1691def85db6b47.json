{"ast":null,"code":"var _jsxFileName = \"/Users/ahadyboy/Desktop/Tha Boy/UNI/2020 - UNI/SWEN325/Assignment 1/Packit/src/components/AddSuitcaseForm.tsx\";\nimport { useForm } from \"react-hook-form\";\nimport React, { useContext } from 'react';\nimport { IonList, IonItem, IonLabel, IonText, IonInput, IonButton, IonRadioGroup, IonListHeader, IonRadio, IonAvatar } from '@ionic/react';\nimport Trip from \"../classes/Trip\";\nimport firebase from \"firebase\";\nimport Suitcase from \"../classes/Suitcase\";\nimport { TripsContext } from \"../TripsState\";\n\n// type SuitcaseProps {\n//   nameOfTrip: string;\n// }\nconst AddSuitcaseForm = ({\n  nameOfTrip\n}) => {\n  let tripName = nameOfTrip;\n  const {\n    control,\n    register,\n    handleSubmit,\n    errors,\n    formState\n  } = useForm();\n  const {\n    trips\n  } = useContext(TripsContext);\n\n  const onSubmit = data => {\n    let suitcase = new Suitcase(data.suitcaseName, data.suitcaseColour);\n    let currentTrip = new Trip(\"Loading...\", new Date(1975, 1, 1), new Date(1975, 1, 1));\n    trips.forEach(t => {\n      if (t.tripName === tripName) {\n        currentTrip = t;\n      }\n    }); // console.log(currentTrip);\n    // if (currentTrip.suitcases[0].suitcaseName === \"\") {\n    //   console.log(\"got to here\")\n    //   currentTrip.suitcases[0] = su\n    // }\n    // currentTrip.suitcases.push(suitcase);\n    // console.log(currentTrip);\n\n    let dbRef = firebase.database().ref('/trips/' + currentTrip.id + '/suitcases');\n    let suitcaseID = dbRef.push({\n      suitcaseName: suitcase.suitcaseName,\n      colour: suitcase.colour\n    }).key;\n\n    if (suitcaseID != null) {\n      dbRef.child(suitcaseID).update({\n        'id': suitcaseID\n      });\n      suitcase.setID(suitcaseID);\n      currentTrip.suitcases.push(suitcase);\n    }\n\n    dbRef.child(\"/0\").remove(); // tripsRef.child(currentTrip.id).update({'suitcases': \"will put suitcases here\"});\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonList, {\n    lines: \"full\",\n    class: \"ion-no-margin ion-no-padding\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    position: \"floating\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }\n  }, \"Suitcase Name\", /*#__PURE__*/React.createElement(IonText, {\n    color: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }, \"*\")), /*#__PURE__*/React.createElement(IonInput, {\n    name: \"suitcaseName\",\n    required: true,\n    type: \"text\",\n    ref: register({\n      required: true\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(IonRadioGroup, {\n    value: \"blue\",\n    name: \"suitcaseColour\",\n    ref: register({\n      required: true\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonListHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, \"Suitcase Colour\")), /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(IonAvatar, {\n    slot: \"start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"../assets/suitcases/blue.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(IonRadio, {\n    slot: \"start\",\n    value: \"blue\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(IonAvatar, {\n    slot: \"start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"../assets/suitcases/green.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(IonRadio, {\n    slot: \"start\",\n    value: \"green\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(IonAvatar, {\n    slot: \"start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"../assets/suitcases/red.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(IonRadio, {\n    slot: \"start\",\n    value: \"red\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(IonAvatar, {\n    slot: \"start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"../assets/suitcases/yellow.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(IonRadio, {\n    slot: \"start\",\n    value: \"yellow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  })))), /*#__PURE__*/React.createElement(IonButton, {\n    expand: \"block\",\n    type: \"submit\",\n    class: \"ion-no-margin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 11\n    }\n  }, \"Add Suitcase\")));\n};\n\nexport default AddSuitcaseForm;","map":{"version":3,"sources":["/Users/ahadyboy/Desktop/Tha Boy/UNI/2020 - UNI/SWEN325/Assignment 1/Packit/src/components/AddSuitcaseForm.tsx"],"names":["useForm","React","useContext","IonList","IonItem","IonLabel","IonText","IonInput","IonButton","IonRadioGroup","IonListHeader","IonRadio","IonAvatar","Trip","firebase","Suitcase","TripsContext","AddSuitcaseForm","nameOfTrip","tripName","control","register","handleSubmit","errors","formState","trips","onSubmit","data","suitcase","suitcaseName","suitcaseColour","currentTrip","Date","forEach","t","dbRef","database","ref","id","suitcaseID","push","colour","key","child","update","setID","suitcases","remove","required"],"mappings":"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","sourcesContent":["import { useForm, Controller } from \"react-hook-form\";\nimport React, {useContext, useState} from 'react';\nimport {\n  IonList,\n  IonItem,\n  IonLabel,\n  IonText,\n  IonInput,\n  IonDatetime,\n  IonButton,\n  IonSelectOption,\n  IonSelect,\n  IonRadioGroup,\n  IonListHeader,\n  IonRadio, IonAvatar\n} from '@ionic/react';\nimport Trip from \"../classes/Trip\";\nimport firebase from \"firebase\";\nimport Suitcase from \"../classes/Suitcase\";\nimport {TripsContext} from \"../TripsState\";\nimport {RouteComponentProps} from \"react-router\";\n\n// type SuitcaseProps {\n//   nameOfTrip: string;\n// }\n\nconst AddSuitcaseForm: React.FC<{nameOfTrip:string}> = ({nameOfTrip}) => {\n  let tripName = nameOfTrip;\n\n\n  const { control, register, handleSubmit, errors, formState } = useForm();\n  const { trips } = useContext(TripsContext);\n\n  const onSubmit = (data: any) => {\n    let suitcase: Suitcase = new Suitcase(data.suitcaseName, data.suitcaseColour);\n    let currentTrip: Trip = new Trip(\"Loading...\", new Date(1975, 1, 1), new Date(1975, 1, 1));\n\n\n    trips.forEach((t: Trip) => {\n      if (t.tripName === tripName) {\n        currentTrip = t;\n      }\n    });\n\n    // console.log(currentTrip);\n    // if (currentTrip.suitcases[0].suitcaseName === \"\") {\n    //   console.log(\"got to here\")\n    //   currentTrip.suitcases[0] = su\n    // }\n    // currentTrip.suitcases.push(suitcase);\n    // console.log(currentTrip);\n\n    let dbRef = firebase.database().ref('/trips/' + currentTrip.id + '/suitcases');\n    let suitcaseID = dbRef.push({\n      suitcaseName: suitcase.suitcaseName,\n      colour: suitcase.colour,\n    }).key;\n    if (suitcaseID != null) {\n      dbRef.child(suitcaseID).update({'id': suitcaseID});\n      suitcase.setID(suitcaseID);\n      currentTrip.suitcases.push(suitcase);\n    }\n    dbRef.child(\"/0\").remove();\n    // tripsRef.child(currentTrip.id).update({'suitcases': \"will put suitcases here\"});\n\n\n\n  };\n\n  return (\n      <div>\n        <form onSubmit={handleSubmit(onSubmit)}>\n          <IonList lines=\"full\" class=\"ion-no-margin ion-no-padding\">\n\n            <IonItem>\n              <IonLabel position=\"floating\">\n                Suitcase Name\n                <IonText color=\"danger\">*</IonText>\n              </IonLabel>\n              <IonInput name=\"suitcaseName\" required type=\"text\" ref={register({ required: true })}>\n              </IonInput>\n            </IonItem>\n\n            <IonRadioGroup value=\"blue\" name=\"suitcaseColour\" ref={register({ required: true })}>\n              <IonListHeader>\n                <IonLabel>Suitcase Colour</IonLabel>\n              </IonListHeader>\n\n              <IonItem>\n                <IonAvatar slot=\"start\">\n                  <img src=\"../assets/suitcases/blue.png\"/>\n                </IonAvatar>\n                <IonRadio slot=\"start\" value=\"blue\" />\n              </IonItem>\n\n              <IonItem>\n                <IonAvatar slot=\"start\">\n                  <img src=\"../assets/suitcases/green.png\"/>\n                </IonAvatar>\n                <IonRadio slot=\"start\" value=\"green\" />\n              </IonItem>\n\n              <IonItem>\n                <IonAvatar slot=\"start\">\n                  <img src=\"../assets/suitcases/red.png\"/>\n                </IonAvatar>\n                <IonRadio slot=\"start\" value=\"red\" />\n              </IonItem>\n\n              <IonItem>\n                <IonAvatar slot=\"start\">\n                  <img src=\"../assets/suitcases/yellow.png\"/>\n                </IonAvatar>\n                <IonRadio slot=\"start\" value=\"yellow\" />\n              </IonItem>\n            </IonRadioGroup>\n\n          </IonList>\n\n          <IonButton expand=\"block\" type=\"submit\" class=\"ion-no-margin\">\n            Add Suitcase\n          </IonButton>\n        </form>\n      </div>\n  );\n};\n\nexport default AddSuitcaseForm;\n"]},"metadata":{},"sourceType":"module"}