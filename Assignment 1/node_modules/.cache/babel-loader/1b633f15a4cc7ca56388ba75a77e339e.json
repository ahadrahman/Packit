{"ast":null,"code":"import _slicedToArray from\"/Users/ahadyboy/Desktop/Tha Boy/UNI/2020 - UNI/SWEN325/Assignment 1/Packit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{createContext,useState,useEffect}from'react';import firebase from\"firebase\";var TripsContext=createContext({});function TripsContextProvider(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),trips=_useState2[0],setTrips=_useState2[1];var tripsRef=firebase.database().ref('/trips');useEffect(function(){tripsRef.on('value',function(snapshot){var data=snapshot.val();if(data!=null){setTrips(Object.values(data));}});},[]);// Nifty trick with useEffect from: https://css-tricks.com/run-useeffect-only-once/\nreturn/*#__PURE__*/React.createElement(TripsContext.Provider,{value:{trips:trips}},props.children);}var TripsContextConsumer=TripsContext.Consumer;export{TripsContext,TripsContextProvider,TripsContextConsumer};","map":{"version":3,"sources":["/Users/ahadyboy/Desktop/Tha Boy/UNI/2020 - UNI/SWEN325/Assignment 1/Packit/src/TripsState.tsx"],"names":["React","createContext","useState","useEffect","firebase","TripsContext","TripsContextProvider","props","trips","setTrips","tripsRef","database","ref","on","snapshot","data","val","Object","values","children","TripsContextConsumer","Consumer"],"mappings":"iMAAA,MAAOA,CAAAA,KAAP,EAAgBC,aAAhB,CAA+BC,QAA/B,CAAyCC,SAAzC,KAA0D,OAA1D,CAEA,MAAOC,CAAAA,QAAP,KAAqB,UAArB,CAMA,GAAIC,CAAAA,YAAY,CAAGJ,aAAa,CAAC,EAAD,CAAhC,CAEA,QAASK,CAAAA,oBAAT,CAA8BC,KAA9B,CAAqE,eAEzCL,QAAQ,CAAC,EAAD,CAFiC,wCAE5DM,KAF4D,eAErDC,QAFqD,eAInE,GAAIC,CAAAA,QAAQ,CAAGN,QAAQ,CAACO,QAAT,GAAoBC,GAApB,CAAwB,QAAxB,CAAf,CAEAT,SAAS,CAAC,UAAM,CACdO,QAAQ,CAACG,EAAT,CAAY,OAAZ,CAAqB,SAAAC,QAAQ,CAAI,CAC/B,GAAIC,CAAAA,IAAI,CAAGD,QAAQ,CAACE,GAAT,EAAX,CACA,GAAID,IAAI,EAAI,IAAZ,CAAkB,CAChBN,QAAQ,CAACQ,MAAM,CAACC,MAAP,CAAcH,IAAd,CAAD,CAAR,CACD,CACF,CALD,EAMD,CAPQ,CAON,EAPM,CAAT,CAOQ;AAER,mBACE,oBAAC,YAAD,CAAc,QAAd,EAAuB,KAAK,CAAE,CAACP,KAAK,CAAGA,KAAT,CAA9B,EAAgDD,KAAK,CAACY,QAAtD,CADF,CAGD,CAED,GAAIC,CAAAA,oBAAoB,CAAGf,YAAY,CAACgB,QAAxC,CAEA,OAAShB,YAAT,CAAuBC,oBAAvB,CAA6Cc,oBAA7C","sourcesContent":["import React, { createContext, useState, useEffect } from 'react';\nimport Trip from \"./classes/Trip\";\nimport firebase from \"firebase\";\n\nexport interface Trips {\n  trips : Trip[];\n}\n\nlet TripsContext = createContext({} as Trips);\n\nfunction TripsContextProvider(props: { children: React.ReactNode; }) {\n\n  const [trips, setTrips] = useState([] as Trip[]);\n\n  let tripsRef = firebase.database().ref('/trips');\n\n  useEffect(() => {\n    tripsRef.on('value', snapshot => {\n      let data = snapshot.val();\n      if (data != null) {\n        setTrips(Object.values(data));\n      }\n    });\n  }, []); // Nifty trick with useEffect from: https://css-tricks.com/run-useeffect-only-once/\n\n  return (\n    <TripsContext.Provider value={{trips : trips}}>{props.children}</TripsContext.Provider>\n  )\n}\n\nlet TripsContextConsumer = TripsContext.Consumer;\n\nexport { TripsContext, TripsContextProvider, TripsContextConsumer };"]},"metadata":{},"sourceType":"module"}