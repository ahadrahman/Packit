{"ast":null,"code":"var _jsxFileName = \"/Users/ahadyboy/Desktop/Tha Boy/UNI/2020 - UNI/SWEN325/Assignment 1/Packit/src/pages/SuitcaseDetails.tsx\";\nimport React, { useContext } from \"react\";\nimport { IonBackButton, IonButtons, IonCard, IonCardContent, IonCardHeader, IonCardTitle, IonContent, IonFab, IonFabButton, IonFabList, IonHeader, IonIcon, IonImg, IonPage, IonTitle, IonToolbar } from \"@ionic/react\";\nimport { TripsContext } from \"../TripsState\";\nimport { SuitcasesContextProvider } from \"../SuitcasesState\";\nimport Trip from \"../classes/Trip\";\nimport Suitcase from \"../classes/Suitcase\";\nimport './SuitcaseDetails.css';\nimport { add, camera, image } from \"ionicons/icons\";\nimport { CameraResultType, CameraSource, Camera } from \"@capacitor/core\";\nimport { useCamera } from '@ionic/react-hooks/camera';\nimport firebase from \"firebase\";\n\nconst SuitcaseDetails = ({\n  match\n}) => {\n  let tripName = match.params.id;\n  let suitcaseName = match.params.suitcaseID;\n  const {\n    trips\n  } = useContext(TripsContext);\n  let currentTrip = new Trip(\"Loading...\", new Date(1975, 7, 26), new Date(1975, 8, 26));\n  trips.forEach(t => {\n    if (t.tripName === tripName) {\n      currentTrip = t;\n    }\n  }); // const suitcases = SuitcasesContextProvider({null; currentTrip.id}); //Somehow pass a tripID here to get the suitcases\n  //\n  // console.log(currentTrip);\n  //\n\n  let suitcases = currentTrip.suitcases;\n  let currentSuitcase = new Suitcase(\"Loading...\", \"green\");\n\n  for (let x of Object.entries(suitcases)) {\n    if (x[1].suitcaseName === suitcaseName) {\n      currentSuitcase = new Suitcase(x[1].suitcaseName, x[1].colour);\n    }\n  } // let itemhref = \"trips/\" + currentTrip.tripName + \"/\" + currentSuitcase.suitcaseName + \"/additem\";\n\n\n  const {\n    getPhoto\n  } = useCamera();\n\n  const takePhoto = async () => {\n    const image = await Camera.getPhoto({\n      resultType: CameraResultType.Uri,\n      source: CameraSource.Camera,\n      quality: 100\n    }).catch(error => {});\n    console.log(image);\n  };\n\n  return /*#__PURE__*/React.createElement(SuitcasesContextProvider, {\n    tripID: currentTrip.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(IonPage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(IonHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonToolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonButtons, {\n    slot: \"start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonBackButton, {\n    defaultHref: \"/trips\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(IonTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, \"Inside \", suitcaseName, \" Suitcase\"))), /*#__PURE__*/React.createElement(IonContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonCard, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonImg, {\n    src: `../assets/suitcases/${currentSuitcase.colour}.png`,\n    className: \"suitcaseDetails\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(IonCardHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(IonCardTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }, currentSuitcase.suitcaseName)), /*#__PURE__*/React.createElement(IonCardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 15\n    }\n  }, \"This suitcase is part of your \", currentTrip.tripName, \" trip.\")), /*#__PURE__*/React.createElement(IonFab, {\n    vertical: \"bottom\",\n    horizontal: \"end\",\n    slot: \"fixed\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonFabButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonIcon, {\n    icon: add,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(IonFabList, {\n    side: \"top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonFabButton, {\n    onClick: () => takePhoto(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(IonIcon, {\n    icon: camera,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(IonFabButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(IonIcon, {\n    icon: image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  })))))));\n};\n\nfunction uploadToFirebase(_imageBlobInfo) {\n  console.log(\"uploadToFirebase\");\n  return new Promise((resolve, reject) => {\n    let fileRef = firebase.storage().ref(\"images/\" + _imageBlobInfo.fileName);\n    let uploadTask = fileRef.put(_imageBlobInfo.imgBlob);\n    uploadTask.on(\"state_changed\", _snap => {\n      console.log(\"progess \" + _snap.bytesTransferred / _snap.totalBytes * 100);\n    }, _error => {\n      console.log(_error);\n      reject(_error);\n    }, () => {\n      // completion...\n      resolve(uploadTask.snapshot);\n    });\n  });\n}\n\nexport default SuitcaseDetails;","map":{"version":3,"sources":["/Users/ahadyboy/Desktop/Tha Boy/UNI/2020 - UNI/SWEN325/Assignment 1/Packit/src/pages/SuitcaseDetails.tsx"],"names":["React","useContext","IonBackButton","IonButtons","IonCard","IonCardContent","IonCardHeader","IonCardTitle","IonContent","IonFab","IonFabButton","IonFabList","IonHeader","IonIcon","IonImg","IonPage","IonTitle","IonToolbar","TripsContext","SuitcasesContextProvider","Trip","Suitcase","add","camera","image","CameraResultType","CameraSource","Camera","useCamera","firebase","SuitcaseDetails","match","tripName","params","id","suitcaseName","suitcaseID","trips","currentTrip","Date","forEach","t","suitcases","currentSuitcase","x","Object","entries","colour","getPhoto","takePhoto","resultType","Uri","source","quality","catch","error","console","log","uploadToFirebase","_imageBlobInfo","Promise","resolve","reject","fileRef","storage","ref","fileName","uploadTask","put","imgBlob","on","_snap","bytesTransferred","totalBytes","_error","snapshot"],"mappings":"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","sourcesContent":["import React, {useContext} from \"react\";\nimport {\n  IonBackButton,\n  IonButtons,\n  IonCard,\n  IonCardContent,\n  IonCardHeader,\n  IonCardTitle,\n  IonContent,\n  IonFab,\n  IonFabButton,\n  IonFabList,\n  IonHeader,\n  IonIcon,\n  IonImg,\n  IonPage,\n  IonTitle,\n  IonToolbar\n} from \"@ionic/react\";\nimport {RouteComponentProps} from \"react-router\";\nimport {TripsContext} from \"../TripsState\";\nimport {SuitcasesContextProvider} from \"../SuitcasesState\";\nimport Trip from \"../classes/Trip\";\nimport Suitcase from \"../classes/Suitcase\";\nimport './SuitcaseDetails.css';\nimport {add, camera, image} from \"ionicons/icons\";\nimport {CameraResultType, CameraSource, CameraPhoto, Plugins, Camera} from \"@capacitor/core\";\nimport { useCamera } from '@ionic/react-hooks/camera';\nimport firebase from \"firebase\";\n\ninterface SuitcaseDetailsProps extends RouteComponentProps<{\n  id: string;\n  suitcaseID: string;\n}> {}\n\n\nconst SuitcaseDetails: React.FC<SuitcaseDetailsProps> = ({match}) => {\n  let tripName: string = match.params.id;\n  let suitcaseName: string = match.params.suitcaseID;\n\n  const { trips } = useContext(TripsContext);\n  let currentTrip: Trip = new Trip(\"Loading...\", new Date(1975, 7, 26), new Date(1975, 8, 26));\n  trips.forEach((t: Trip) => {\n    if (t.tripName === tripName) {\n      currentTrip = t;\n    }\n  });\n\n  // const suitcases = SuitcasesContextProvider({null; currentTrip.id}); //Somehow pass a tripID here to get the suitcases\n\n  //\n  // console.log(currentTrip);\n  //\n\n\n\n  let suitcases = currentTrip.suitcases;\n  let currentSuitcase: Suitcase = new Suitcase(\"Loading...\", \"green\");\n\n  for (let x of Object.entries(suitcases)) {\n    if (x[1].suitcaseName === suitcaseName) {\n      currentSuitcase = new Suitcase(x[1].suitcaseName, x[1].colour);\n    }\n  }\n  // let itemhref = \"trips/\" + currentTrip.tripName + \"/\" + currentSuitcase.suitcaseName + \"/additem\";\n\n  const { getPhoto } = useCamera();\n\n  const takePhoto = async () => {\n    const image = await Camera.getPhoto({\n      resultType: CameraResultType.Uri,\n      source: CameraSource.Camera,\n      quality: 100\n    }).catch(error => {\n    });\n    console.log(image);\n    \n  };\n\n  return (\n    <SuitcasesContextProvider tripID={currentTrip.id}>\n      <IonPage>\n        <IonHeader>\n          <IonToolbar>\n            <IonButtons slot=\"start\">\n              <IonBackButton defaultHref=\"/trips\"/>\n            </IonButtons>\n            <IonTitle>\n              Inside {suitcaseName} Suitcase\n            </IonTitle>\n          </IonToolbar>\n        </IonHeader>\n        <IonContent>\n          <IonCard>\n            {/*  <IonAvatar slot=\"start\">*/}\n                <IonImg src={`../assets/suitcases/${currentSuitcase.colour}.png`} className=\"suitcaseDetails\"/>\n              {/*</IonAvatar>*/}\n              <IonCardHeader>\n                <IonCardTitle>\n                  {currentSuitcase.suitcaseName}\n                </IonCardTitle>\n              </IonCardHeader>\n              <IonCardContent>\n                This suitcase is part of your {currentTrip.tripName} trip.\n              </IonCardContent>\n          </IonCard>\n\n          <IonFab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\n            <IonFabButton>\n              <IonIcon icon={add} />\n            </IonFabButton>\n            <IonFabList side=\"top\">\n              <IonFabButton onClick={() => takePhoto()}>\n                <IonIcon icon={camera} />\n              </IonFabButton>\n              <IonFabButton>\n                <IonIcon icon={image} />\n              </IonFabButton>\n            </IonFabList>\n          </IonFab>\n\n        </IonContent>\n      </IonPage>\n    </SuitcasesContextProvider>\n  );\n};\n\nfunction uploadToFirebase(_imageBlobInfo) {\n  console.log(\"uploadToFirebase\");\n  return new Promise((resolve, reject) => {\n    let fileRef = firebase.storage()\n      .ref(\"images/\" + _imageBlobInfo.fileName);      let uploadTask = fileRef.put(_imageBlobInfo.imgBlob);      uploadTask.on(\n      \"state_changed\",\n      (_snap: any) => {\n        console.log(\n          \"progess \" +\n          (_snap.bytesTransferred / _snap.totalBytes) * 100\n        );\n      },\n      _error => {\n        console.log(_error);\n        reject(_error);\n      },\n      () => {\n        // completion...\n        resolve(uploadTask.snapshot);\n      }\n    );\n  });\n}\n\nexport default SuitcaseDetails;"]},"metadata":{},"sourceType":"module"}